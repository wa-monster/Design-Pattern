<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="" id="form">
    用户名<input type="text" name="" id="name"><br>
    密码<input type="password" name="" id="password"><br>
    手机<input type="text" name="" id="phone"><br>
    <button>提交</button>
</form>
<script>
    //策略模式，封装一系列算法，达到可以替换复用的程度



//原始版本写法
    var form = document.getElementById('form');
    form.onsubmit=function (e) {
        e.preventDefault();
        var name = document.getElementById('name')
        var pwd = document.getElementById('password')
        var phone = document.getElementById('phone')
        if(name.value === ""){
            alert('用户名不能为空')
            return
        }
        if(pwd.value.length <6){
            alert('密码不能小于6位')
            return
        }
        if(!/^1[3|5|8][0-9]{9}/.test(phone.value)){
            alert('非法的手机号')
            return
        }


        alert('ok')
    }


//策略模式实现表单验证
    //验证的逻辑
    var strategies = {
        isNonEmpty: function (value,errMsg) {
            if(value === ''){
                return errMsg
            }
        },
        minLength: function (value,length,errMsg) {
            if(value.length < length){
                return errMsg
            }
        },
        isMobile: function( value, errorMsg ){ // 手机号码格式
            if ( !/(^1[3|5|8][0-9]{9}$)/.test( value ) ){
                return errorMsg;
            }
        }
    }
</script>
</body>
</html>